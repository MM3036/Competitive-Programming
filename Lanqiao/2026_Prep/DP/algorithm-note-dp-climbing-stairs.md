# 算法学习笔记：动态规划之「爬楼梯」

## 一、 核心知识点

1. **核心算法**：一维线性动态规划（DP）。
2. **数学思想**：数列递推，具备 **马尔可夫性质（无后效性）**，即当前状态仅由前驱状态决定。
3. **空间优化**：滚动变量（状态压缩），将空间复杂度由 $O(N)$ 优化至 $O(1)$。
4. **细节处理**：步步取模运算（防止超大整数计算带来的性能损耗），以及对极小边界值的特判。

---

## 二、 题目描述

### 题目：爬楼梯

**【问题描述】**
面前有一段由 $N$ 级台阶组成的楼梯。每次跨步往上走时，每次只能跨 1 级或 2 级台阶。
请问从楼梯底部（第 0 级）走到顶部的第 $N$ 级台阶，一共有多少种不同的走法？
由于答案可能非常大，请将计算结果对 `1000000007` 取模后输出。

**【输入格式】**
输入包含一个正整数 $N$，表示楼梯的台阶总数。

**【输出格式】**
输出一个整数，表示不同的走法数量对 `1000000007` 取模后的结果。

**【评测用例规模与约定】**
对于 100% 的评测用例，$1 \le N \le 10^5$。

---

## 三、 题目总结与解题思路

本题为经典组合计数问题。直接使用深度优先搜索（DFS）由于存在大量重叠子问题，且最大递归深度可达 $10^5$ 级，会导致时间超限（TLE）或系统爆栈（RE）。

利用动态规划自底向上递推求解最为稳妥：

1.  **状态定义**：设状态为到达第 $i$ 级台阶的方法总数。
2.  **状态转移方程**：到达第 $i$ 级台阶的最后一步，必定是从第 $i-1$ 级跨 1 步，或从第 $i-2$ 级跨 2 步。根据加法原理，当前状态等于前两步状态之和。
    $$ f(i) = f(i-1) + f(i-2) $$
3.  **边界条件**：第 1 级台阶 1 种走法，第 2 级台阶 2 种走法。

**代码实现细节**：
由于当前状态仅依赖前两个状态，无需开辟长度为 $N$ 的状态数组，仅用三个变量交替更新即可完成计算，实现空间复杂度的极限优化。

---

## 四、 满分代码实现（Python）

```python
n = int(input())

if n == 1:
    print(1)
elif n == 2:
    print(2)
else:
    a = 1
    b = 2
    for i in range(3, n + 1):
        # 核心递推公式，并步步取模
        c = (a + b) % 1000000007
        # 滚动变量更新
        a = b
        b = c
    print(c)
```
